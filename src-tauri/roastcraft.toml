version = "v1"
brand   = "roastcraft"
model   = "modbus"

[serial]
    port      = "COM4"
    baud_rate = 9600
    data_bits = 8
    parity    = "none"
    stop_bits = 1

    [serial.ta612c]

        [[serial.ta612c.channel]]
            channel_id  = "ET"
            label       = "exhaust temp"
            id          = 1
            unit        = "celcius"
            color       = "#00007f"
            ror_color   = "#dd0000"

        [[serial.ta612c.channel]]
            channel_id  = "BT"
            label       = "bean temp"
            id          = 2
            unit        = "celcius"
            color       = "#00007f"
            ror_color   = "#dd0000" 

    [serial.modbus]
        # modbus-ascii, modbus-rtu
        protocol = "modbus-rtu"

        [[serial.modbus.slave]]
            channel_id  = "ET"
            label       = "exhaust temp"
            id          = 1
            function    = 3
            registry    = 18176     # = 4700h
            divisor     = 10        # 1, 10, 100
            decode_type = "u16"     # u16, u32, i16, i32, f32
            unit        = "celcius"
            color       = "#ff0000"
            ror_color   = "#dd0000"

        [[serial.modbus.slave]]
            channel_id  = "BT"
            label       = "bean temp"
            id          = 2
            function    = 3
            registry    = 18176     # = 4700h
            divisor     = 10        # 1, 10, 100
            decode_type = "u16"     # u16, u32, i16, i32, f32
            unit        = "celcius"
            color       = "#00007f"
            ror_color   = "#dd0000"

        [[serial.modbus.slave]]
            channel_id  = "inlet"
            label       = "inlet temp"
            id          = 3
            function    = 3
            registry    = 18176     # = 4700h
            divisor     = 10        # 1, 10, 100
            decode_type = "u16"     # u16, u32, i16, i32, f32
            unit        = "celcius"
            color       = "#007f00"
            ror_color   = "#dd0000"

[tcp]
    ip = "127.0.0.1"
    port = 502

    [tcp.modbus]
        # modbus-tcp 
        protocol = "modbus-tcp"

        [[tcp.modbus.slave]]
            channel_id  = "fan"
            label       = "air pressure"
            id          = 4
            function    = 3
            registry    = 20       # = 14h
            divisor     = 1        # 1, 10, 100
            decode_type = "f32"    # u16, u32, i16, i32, f32
            unit        = "pa"
            color       = "#00007f"
            ror_color   = "#dd0000"

    [tcp.http]

        [[tcp.http.channel]]
            channel_id  = "ET"
            label       = "exhaust temp"
            id          = 1              # dummy
            unit        = "celcius"
            color       = "#ff0000"
            ror_color   = "#dd0000"

        [[tcp.http.channel]]
            channel_id  = "BT"
            label       = "bean temp"
            id          = 1           # dummy
            unit        = "celcius"
            color       = "#00007f"
            ror_color   = "#dd0000"

        [[tcp.http.channel]]
            channel_id  = "inlet"
            label       = "inlet temp"
            id          = 1            # dummy
            unit        = "celcius"
            color       = "#007f00"
            ror_color   = "#007f00"
